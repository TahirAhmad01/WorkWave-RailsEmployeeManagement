<% if flash[:notice].present? %>
  <div class="alert alert-success mb-3" role="alert">
    <%= flash[:notice] %>
  </div>
<% end %>
<div class="card overflow-hidden">
  <div class="card-header px-4 py-3 w-full">
    <div class="d-flex justify-content-between align-items-center ">
      <h3 class="">Employee lists</h3>
      <%= link_to "Create New Employee", new_employee_path, class: "btn btn-primary" %>
    </div>
  </div>

  <!--  <div class="px-4 py-4">-->
  <!--    <table class="table table-striped">-->
  <!--      <thead>-->
  <!--      <tr>-->
  <!--        <th scope="col">#</th>-->
  <!--        <th scope="col">Name</th>-->
  <!--        <th scope="col">Email</th>-->
  <!--        <th scope="col">Address</th>-->
  <!--        <th scope="col"></th>-->
  <!--      </tr>-->
  <!--      </thead>-->
  <!--      <tbody>-->
  <%# @employees.each do |employee| %>
  <!--        <tr>-->
  <!--          <th scope="row"><%#= employee.id %></th>-->
  <!--          <td><%#= employee.name %></td>-->
  <!--          <td><%#= employee.personal_email %></td>-->
  <!--          <td><%#= employee.full_address %></td>-->
  <!--          <td>-->
  <!--            <div class="row gap-1">-->
  <!--              <div class="dropdown">-->
  <!--                <button class="btn btn-primary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">-->
  <!--                  Action-->
  <!--                </button>-->
  <!--                <ul class="dropdown-menu">-->
  <!--                  <li>-->
  <%#= link_to "Edit", edit_employee_path(employee), class: "dropdown-item" %>
  <!--                  </li>-->
  <!--                  <li>-->
  <%#= link_to "View", employee_path(employee), class: "dropdown-item" %>
  <!--                  </li>-->
  <!--                  <li>-->
  <%#= link_to "Delete", employee_path(employee), class: "dropdown-item", method: :delete, data: { confirm: "Are you sure to delete this employee?" } %>
  <!--                  </li>-->
  <!--                </ul>-->
  <!--              </div>-->
  <!--            </div>-->
  <!--          </td>-->
  <!--        </tr>-->
  <%# end %>
  <!--      </tbody>-->
  <!--    </table>-->
  <!--  </div>-->

  <div class="accordion accordion-flush" id="accordionFlushExample">
    <% @employees.each do |employee| %>
      <div class="accordion-item">
        <h2 class="accordion-header" id="flush-heading_<%= employee.id %>">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapse_<%= employee.id %>" aria-expanded="false" aria-controls="flush-collapse_<%= employee.id %>">
            <%= employee.name_with_email %>
          </button>
        </h2>
        <div id="flush-collapse_<%= employee.id %>" class="accordion-collapse collapse" aria-labelledby="flush-heading_<%= employee.id %>" data-bs-parent="#accordionFlushExample">
<!--          <div class="accordion-body">Placeholder content for this accordion, which is intended to demonstrate the-->
<!--            <code>.accordion-flush</code> class. This is the first item's accordion body.-->
<!--          </div>-->
          <div class="row m-4">
            <div class="col-md-6">
              <h4>Personal info</h4>
              <div class="lead"><strong>First Name: </strong> <%= employee.first_name %></div>
              <div class="lead">
                <strong>middle Name: </strong> <%= employee.middle_name.present? ? employee.middle_name : "--N/A--" %></div>
              <div class="lead"><strong>Last Name: </strong> <%= employee.last_name %></div>
              <div class="lead"><strong>Personal Email: </strong> <%= employee.personal_email %></div>
            </div>
            <div class="col-md-6">
            <h4>Address info</h4>
            <div class="lead"><strong>Address Line1: </strong> <%= employee.address_line_1 %></div>
            <div class="lead">
              <strong>Address Line2: </strong> <%= employee.address_line_2.present? ? employee.address_line_2 : "--N/A--" %>
            </div>
            <div class="lead"><strong>city: </strong> <%= employee.city %></div>
            <div class="lead"><strong>state: </strong> <%= employee.state %></div>
            <div class="lead"><strong>country: </strong> <%= employee.country %></div>
            <div class="lead"><strong>pin code: </strong> <%= employee.pincode %></div>
          </div>
          </div>
          <div class="mx-3 mb-3">
          <%= link_to "Edit Employee", edit_employee_path(employee), class: "btn btn-primary" %>
          <%= link_to "Delete Employee", employee_path(employee), class: "btn btn-danger", method: :delete, data: { confirm: "Are you sure to delete this employee?" } %>
        </div></div>
      </div>
    <% end %>
  </div>
</div>